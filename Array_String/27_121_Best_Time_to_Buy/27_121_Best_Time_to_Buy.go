package main

/* Задача Лучшее время для покупки и продажи акций
Вам дан массив pricing[i] (цены), где pricing[i] — цена данной акции на i-й день.
Вы хотите максимизировать прибыль, выбрав один день для покупки одной акции и другой день в будущем для её продажи.
Верните максимальную прибыль, которую вы можете получить от этой сделки. Если прибыли нет, верните 0. */

import (
	"fmt"
)

// ─────────────╮
// Функция принимает массив цен акций по дням
// и возвращает максимальную прибыль от одной сделки (купить и продать один раз).
// Алгоритм проходит массив один раз (O(n)) и использует всего пару переменных (O(1) по памяти)
func maxProfit(prices []int) int {
	// Если массив пустой или содержит только 1 элемент, то прибыль получить невозможно
	if len(prices) < 2 {
		return 0
	}
	// minPrice хранит минимальную цену, по которой можно было купить акцию
	// Изначально считаем, что минимальная цена = цена в первый день
	minPrice := prices[0]
	// maxProfit хранит максимальную прибыль, которую мы смогли вычислить
	// На старте прибыли нет, поэтому = 0
	maxProfit := 0
	// Начинаем проходить по массиву начиная со второго дня
	for i := 1; i < len(prices); i++ {
		price := prices[i]
		// Вычисляем потенциальную прибыль, если бы мы купили по минимальной цене и продали сегодня
		profit := price - minPrice
		// Если прибыль больше текущего максимума, обновляем её
		if profit > maxProfit {
			maxProfit = profit
		}
		// Если текущая цена меньше минимальной найденной ранее, то обновляем minPrice
		if price < minPrice {
			minPrice = price
		}
	}
	// Возвращаем максимальную найденную прибыль
	return maxProfit
}

// ─────────────╯

// ─────────────╮╰──>
func main() {
	fmt.Println()
	// Пример 1
	prices1 := []int{7, 1, 5, 3, 6, 4}
	fmt.Println("Пример 1:", prices1, " Максимальная прибыль =", maxProfit(prices1)) // Ожидаем 5
	// Пример 2
	prices2 := []int{7, 6, 4, 3, 1}
	fmt.Println("Пример 2:", prices2, " Максимальная прибыль =", maxProfit(prices2)) // Ожидаем 0
	// Дополнительная проверка
	prices3 := []int{2, 4, 1}
	fmt.Println("Пример 3:", prices3, " Максимальная прибыль =", maxProfit(prices3)) // Ожидаем 2 (купить по 2, продать по 4)
	fmt.Println()
}
